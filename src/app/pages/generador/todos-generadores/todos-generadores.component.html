<div class="container-generadores">

    <div class="pais-generadores">
        <div class="tipo-mapa">
            <span class="title">{{tipoMapa}}</span>
        </div>
        <app-mapa-colombia (departamento)="addItem($event)"></app-mapa-colombia>
    </div>

    <div class="energia-dpto">
        <div class="header">
            <span class="title">{{departamento || 'Colombia'}}</span>
        </div>
        <div class="content-card">

            <div class="container-pie" *ngIf="tipoMapa=='Generadores'">
              <span class="text-gris-p w-500" id="title-pie">Total de energía</span>
              <div class="img-panel">
                <img src="../../../../assets/images/panel.svg" alt="">
              </div>
              
              <div class="pie-generadores pie" >
                <canvas baseChart
                        [data]="pieChartData"
                        [type]="pieChartType"
                        [options]="pieChartOptions">
                        [legend]="legends">
                </canvas>
              </div>
              <div class="img-aerogenerador">
                <img src="../../../../assets/images/aerogenerador.svg" alt="">
              </div>
            </div>

            <div class="container-pie" *ngIf="tipoMapa=='Clientes'">
              <span class="text-gris-p w-500" id="title-pie">Total de energía</span>
              <div class="img-panel">
                <img src="../../../../assets/images/panel.svg" alt="">
              </div>
              
              <div class="pie-clientes pie" >
                <canvas baseChart 
                        [data]="pieChartData2" 
                        [type]="pieChartType"
                        [options]="pieChartOptions">
                </canvas>
              </div>

              <div class="img-aerogenerador">
                <img src="../../../../assets/images/aerogenerador.svg" alt="">
              </div>
            </div>

            <mat-accordion>
                <mat-expansion-panel (opened)="panelOpenState = true"
                                        (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                    <mat-panel-title class="text-gris-p">
                        Detalle por región
                    </mat-panel-title>
                    </mat-expansion-panel-header>

                    <div class="buttons-acordeon text-gris-p">
                    <a class="text-gris-p" (click)="tipoMapa='Generadores'">Generadores</a>
                    <a class="text-gris-p" (click)="tipoMapa='Clientes'" >Clientes</a>
                    </div>
                    
                </mat-expansion-panel>
            </mat-accordion>
            

          <div class="table-container"> 
            <mat-table #table [dataSource]="dataSource" class="mvm-table">
    
              <ng-container matColumnDef="Tipo agente">
                <mat-header-cell *matHeaderCellDef>Tipo agente</mat-header-cell>

            </ng-container>

            <ng-container matColumnDef="Nombre">
                <mat-header-cell *matHeaderCellDef>Nombre</mat-header-cell>

            </ng-container>

            <ng-container matColumnDef="TipoEnergia">
                <mat-header-cell *matHeaderCellDef>Tipo de Energía</mat-header-cell>

            </ng-container>

            <ng-container matColumnDef="Cantidad">
                <mat-header-cell *matHeaderCellDef>Cantidad</mat-header-cell>

            </ng-container>

            <ng-container matColumnDef="Precio">
                <mat-header-cell *matHeaderCellDef>Precio</mat-header-cell>

            </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>

            </mat-table>
            <mat-paginator class="mt-10" #paginator [pageSizeOptions]="[5, 10, 25, 100 ]" showFirstLastButtons></mat-paginator>
          </div>
          

        </div>

    </div>
    
</div>
